### 1. 热点数据基本介绍

#### 1.1 概念

 热点数据指的就是某一时间段内被大量访问的数据，比如爆款商品的数据、新闻热点。

#### 1.2 热点数据会造成什么问题

redis作为一个单线程的结构，所有的请求到来后都会去排队，当请求量远大于自身处理能力时，后面的请求会陷入等待、超时。由于该redis分片完全被这个key的请求给打满，导致该分片上所有其他数据操作都无法继续提供服务，也就是热key不仅仅影响自己，还会影响和它合租的数据

#### 1.3 热点数据分类

根据特点划分：

- 静态热点数据 ：可以提前预测到的热点数据比如要秒杀的商品。
- 动态热点数据 ： 不能够提前预测到的热点数据，需要通过一些手段动态检测系统运行情况产生。



### 1.4 如何解决热点数据问题

##### 1.4.1 热key探测关键指标

1. 实时性：因为热key来的非常迅速，所以为了防止短时间内redis集群被打爆，需要马上将热key探测到放入到内存中，比如在1秒内探测到某个热key，并且放入到内存中

2. 准确性：不误探，精准探测

3. 集群一致性

4. 高性能：节省服务器资源

   

##### 1.4.2 解决方案

1. 利用现有框架，比如京东的JdHotkey

2. 自建轮子：

   1. 上二级缓存，即key-value写入redis以后，在jvm内存也同样缓存一份，设置淘汰策略。不过这种方式热key的命中率很低

   2. 改写redis源码，加入热点探测功能。 实现有一定难度

   3. 其他：限流，黑名单

      

参考地址：https://mp.weixin.qq.com/s/xOzEj5HtCeh_ezHDPHw6Jw
